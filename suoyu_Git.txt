X goddess(微信端) git@kuiGit:/home/gitSave/suoyu.git
X goddess-backend(后台) git@kuiGit:/home/gitSave/suoyuback.git
X goddess-pc(网页端) git@kuiGit:/home/gitSave/suofront.git


所欲测试服的git   账户 git  repogit

goddess(微信端) git@60.205.0.134:/srv/git/goddess.git

goddess-backend(后台) git@60.205.0.134:/srv/git/goddess-backend.git

goddess-pc(网页端) git@60.205.0.134:/srv/git/goddess-pc.git

如果服务器默认ssh端口号不是22 则用  ssh://git@ip:port/srv/git/xxx.git

日常记录
git@60.205.0.134:/srv/git/Mr.Deng.git

linux(centos7) 搭建git服务:
    1.安装git服务
        yum – y install git
        cd srv
        mkdir git
        git init --bare project.git     //在/srv/git 目录下 初始化一个 名为 project.git 的裸仓库
    2.创建一个git账户,git登录上传貌似好像走ssh,所以要走创建一个用户
        useradd git
        passwd  git
    3.把project.git文件夹赋予git用户
        chown -R git:git project.git
    4. 测试git
        git clone git@192.168.153.129:/srv/git/project.git

git@github.com:15208297593/goddess-backend.git

	Git知识:
		git添加当前目录所有文件 -- git add .
		git查看当前状态			-- git status
		将已修改的文件更新到暂存区域中 -- git add 文件名1 文件名2 ..
		撤销已添加到暂存区域中的文件(即回到 "Untracked files" 状态) -- git checkout -文件名
		Git的三种状态:
				在初始化一个项目后,也就是将项目所在目录纳入Git的管理下. 假设目录为 temp,在temp目录下新建一个 README.txt 的文本文件
				此时在git Bash 中切换到 temp目录下,执行:
			#git status	
				状态1	Git会友好的表示 README.txt 为 "Untracked files",并且提示使用 "git add.."命令将文件包含到待提交清单中,按照提示，执行
			#git add README.txt
			#git status
				状态2	此时文件README.txt状态变成了“Changes to be committed”,也就是说README.txt在暂存区域生成了快照,等待被提交.正如Git提示那样, 通过“git rm –cached README.txt”命令，可以将文件状态还原为未暂存状态,即回到“Untracked files”文件状态,现在，README.txt已经可以被提交到git目录中了，但是暂时不提交。打开README.txt，向其中加些内容，再查看其状态\
			#git status
				状态3	除了之前的“Changes to be committed”状态，现在又多了一条“Changes not staged for commit”状态，表明文件已经修改，但是还没有放入暂存区域，也就是没生成快照。如果现在进行commit操作，只是将修改之前的文件快照提交到了git目录，一定记住：只有暂存区域的文件（即：文件状态为“Changes to be committed”）才会被提交。正如提示，通过“git add README.txt”命令将已修改文件更新到暂存区域中，如果想撤销修改，可以使用“git checkout – README.txt”命令。


			Git在未进行commit操作之前，存在三种状态：Untracked files，Changes not staged for commit及Changes to be committed，每种状态之间可以随意进行互相转换。

		常见错误及解决方法:
			git error 'commit' is not possible because you have unmerged files
			先手工编辑好conflict之后再add,再commit,再push

        Git的工作区和暂存区:
            工作区（Working Directory）:     就是你在电脑里能看到的目录，比如我的learngit文件夹就是一个工作区
            版本库（Repository）:    工作区有一个隐藏目录.git，这个不算工作区，而是Git的版本库.Git的版本库里存了很多东西，其中最重要的就是称为stage（或者叫index）的暂存区，还有Git为我们自动创建的第一个分支master，以及指向master的一个指针叫HEAD。

            用git add把文件添加进去，实际上就是把文件修改添加到暂存区；
            用git commit提交更改，实际上就是把暂存区的所有内容提交到当前分支.

            另一种情况是删错了，因为版本库里还有呢，所以可以很轻松地把误删的文件恢复到最新版本：
            $ git checkout -- test.txt
            git checkout其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。

            多人协作的工作模式通常是这样：
                1.首先，可以试图用git push origin branch-name推送自己的修改;
                2.如果推送失败，则因为远程分支比你的本地更新，需要先用git pull试图合并;
                3.如果合并有冲突，则解决冲突，并在本地提交；
                4.没有冲突或者解决掉冲突后，再用git push origin branch-name推送就能成功！
                如果git pull提示“no tracking information”，则说明本地分支和远程分支的链接关系没有创建，用命令git branch --set-upstream branch-name origin/branch-name

            查看远程库信息，使用git remote -v；
            本地新建的分支如果不推送到远程，对其他人就是不可见的；
            从本地推送分支，使用git push origin branch-name，如果推送失败，先用git pull抓取远程的新提交；
            在本地创建和远程分支对应的分支，使用git checkout -b branch-name origin/branch-name，本地和远程分支的名称最好一致；
            建立本地分支和远程分支的关联，使用git branch --set-upstream branch-name origin/branch-name；
            从远程抓取分支，使用git pull，如果有冲突，要先处理冲突。

阿里云:suoyudingzhi@qq.com Lh－15618962017
paypal:suoyudingzhi@qq.com sydz0807
订阅号 AppID   wx4f46a41d5fcdea79  AppSecret   e771f84cc851e05c75b2b01092af5608
测试服 mysql   123456My!!


linux mount nfs 的一些坑
/etc/exports 配置文件的内容
/www/images/ 10.171.95.132(rw,no_root_squash,no_all_squash,sync) 10.170.195.201(rw,no_root_squash,no_all_squash,sync)
将10.172.190.99:/www/images/文件夹 挂载到本机/www/images/上    mount -t nfs -o nolock,nfsvers=3,vers=3 -o proto=tcp 10.172.190.99:/www/images/ /www/images/
******如果用客户端执行mount命令出现 collected time out 等问题 首先看看是不是被防火墙拦截了,其次是 服务器和客服端都需要开启 rpcbind 和 nfs服务 ,
还是不行的话 开放这些端口：
                firewall-cmd --permanent --add-port=111/tcp 
                firewall-cmd --permanent --add-port=54302/tcp 
                firewall-cmd --permanent --add-port=20048/tcp 
                firewall-cmd --permanent --add-port=2049/tcp 
                firewall-cmd --permanent --add-port=46666/tcp 
                firewall-cmd --permanent --add-port=42955/tcp 
                firewall-cmd --permanent --add-port=875/tcp
                然后
                firewall-cmd --reload


 cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql \ 
        -DMYSQL_UNIX_ADDR=/usr/local/mysql/data/mysql.sock \
        -DDEFAULT_CHARSET=utf8 \
        -DDEFAULT_COLLATION=utf8_general_ci \
        -DWITH_EXTRA_CHARSETS:STRING=utf8,gbk \
        -DWITH_INNOBASE_STORAGE_ENGINE=1 \
        -DWITH_READLINE=1 \
        -DENABLED_LOCAL_INFILE=1 \
        -DMYSQL_DATADIR=/usr/local/mysql/data/ \
        -DMYSQL_TCP_PORT=3306

cmake用于编译源码 需要自行安装并且需要gcc和gcc_c++ 
cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_UNIX_ADDR=/usr/local/mysql/mysql.sock -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DMYSQL_DATADIR=/usr/local/mysql/data -DMYSQL_TCP_PORT=3306 -DENABLE_DOWNLOADS=1
一般访问linux tomcat 服务,如果确认访问路径是正确的,但还是出现404等错,首先用  tail -f catalina.out 命令查看tomcat日志,如果tomcat没有报错,那就要看是不是linux的防火墙的原因
centos7 默认使用 firewall 防火墙
firewall 防火墙的使用
http://www.111cn.net/sys/CentOS/103509.htm

1、运行、停止、禁用firewalld
启动：# systemctl start  firewalld
查看状态：# systemctl status firewalld 或者 firewall-cmd --state
停止：# systemctl disable firewalld
禁用：# systemctl stop firewalld

查看开放端口
firewall-cmd --list-ports

例如要开放 tomcat默认运行的8080端口
firewall-cmd --zone=public --add-port=8080/tcp --permanent
出现success表明添加成功
要是规则生效需要更新防火墙规则
	更新防火墙规则：# firewall-cmd --reload
					# firewall-cmd --complete-reload
两者的区别就是第一个无需断开连接，就是firewalld特性之一动态添加规则，第二个需要断开连接，类似重启服务

iptables操作:
    查看状态:
    iptables -L -n
    下面添加对特定端口开放的方法：
    使用iptables开放如下端口
    /sbin/iptables -I INPUT -p tcp --dport 8000 -j ACCEPT
    保存
    /etc/rc.d/init.d/iptables save
    重启服务
    service iptables restart
    查看需要打开的端口是否生效？
    /etc/init.d/iptables status

    法2:
    或直接编辑/etc/sysconfig/iptables
    -A INPUT -p tcp -m tcp --dport 4000 -j ACCEPT
    保存在前面部分
    再重启:
    service iptables restart

tomcat开启远程调试
CATALINA_OPTS="-Xdebug  -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n"
JAVA_OPTS="-Xms512m -Xmx1024m"


maven Plugin execution not covered by lifecycle configuration 错误解决办法:
        <build>
                <pluginManagement>
                        <plugins>  
                                <plugin>
                                <!--报错插件 -->
                                </plugin>
                        </plugins>
                </pluginManagement>
        </build>
即在 <build> 和 <plugins>标签之间加上 <pluginManagement>标签
 Eclipse创建Maven web项目jsp表头报错  解决方法
        这种一般都是因为新创建的项目缺少运行环境
        右键web工程－属性或Build Path－Java BuildPath－Libraries－AddLibary－Server runtime

npm设置为淘宝镜像:npm config set registry https://registry.npm.taobao.org 
npm国内镜像:npm config set registry http://registry.cnpmjs.org

如果报类似的错误 bower ECMDERR       Failed to execute "git ls-remote --tags --heads git://github.com/documentcloud/underscore.git", exit code of #128
解决方法:git config --global url."https://".insteadOf git://

查看当前目录下abc.tar文件大小命令 du -h  abc.tar
查看centoscn目录整个文件夹大小命令 du -sh centoscn


if((mc.getRed()==255&&mc.getGreen()==0&&mc.getBlue()==0&&mc.getAlpha() != 0)){
						bfimgR.setRGB(i, j, bfimgP.getRGB(i,j));
					System.out.println("R: "+mc.getRed()+" G: "+mc.getGreen()+" B: "+mc.getBlue()+" A: "+mc.getAlpha());
					}else 
						if((mc.getRed()==0&&mc.getGreen()==255&&mc.getBlue()==0&&mc.getAlpha() != 0)){
						bfimgG.setRGB(i, j, bfimgP.getRGB(i,j));
						System.out.println("R: "+mc.getRed()+" G: "+mc.getGreen()+" B: "+mc.getBlue()+" A: "+mc.getAlpha());
					}else if((mc.getRed()==0&&mc.getGreen()==0&&mc.getBlue()==255&&mc.getAlpha() != 0)){
						bfimgB.setRGB(i, j, bfimgP.getRGB(i,j));
						System.out.println("R: "+mc.getRed()+" G: "+mc.getGreen()+" B: "+mc.getBlue()+" A: "+mc.getAlpha());
					}
http://image.suoyutech.com/sywx/www/images

<form action="${pageContext.request.contextPath}/sub/submit.jsp" method="post"> 
</form>

1.include指令
    include可以在JSP页面转换成Servlet之前，将JSP代码插入其中。它的主要优点是功能强大，所包含的代码可以含有总体上影响主页面的JSP构造，比如属性、方法的定义和文档类型的设定。它的缺点是难于维护只要被包含的页面发生更改，就得更改主页面，这是因为主页面不会自动地查看被包含的页面是否发生更改。
include指令的语法格式如下
    <%@ include file="Relative Url"%>

2.include动作
  jsp:include动作是在主页面被请求时，将次级页面的输出包含进来。尽管被包含的页面的输出中不能含有JSP，但这些页面可以是其他资源所产生的结果。服务器按照正常的方式对指向被包含资源的URL进行解释，因而这个URL可以是Servlet或JSP页面。服务器以通常的方式运行被包含的页面，将产生的输出放到主页面中，这种方式与RequestDispatcher类的include方法一致。它的优点是在被包含的页面发生更改时，无须对主页面做出修改。它的缺点是所包含的是次级页面的输出，而非次级页面的实际代码，所以在被包含的页面中不能使用任何有可能在整体上影响主页面的JSP构造。
  jsp:include动作的完整语法如下
 <jsp:include page="Relative path to resource" flush="true"> 


https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx7acdf8f5643b0234&redirect_uri=http%3a%2f%2ftest.suoyutech.com%2fwxOAuth%2foauthServlet%2fdoGet&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect


eThEPM/!J5ox

Centos查看端口占用情况和开启端口命令   lsof -i tcp:80 (查看80端口占用情况)  netstat -ntlp(列出所有端口) 
根据进程PID查进程所在路径  ps PID  例如执行  lsof -i tcp:80 得到 nginx占用80端口,且pid为 100, 则执行 ps 100  可以查到该进程所在路径


  mysql> set global sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION';
    mysql> set session sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION';
    mysql> exit;

查看内存情况: free -m
centos7查看当前哪些进程占用内存:
    1. top  atop htop 
    2. 简单的命令，排名前10的内存占用程序，不加 head就是所有程序都列出来
       ps aux|head -1; ps aux | sort -k4nr | head -10
查看当前有哪些用户登录系统:
    1.w 2.who 3.whoami 4.last jason (曾经使用过系统的用户信息)
    
    Linux远程复制文件  scp命令:
        从 远程 复制到 本地，
         scp (-rf 可选参数) 远程用户名 @IP 地址 : 文件名1    本地用户名 @IP 地址 : 文件名2
        
        从本地复制到远程 只要将 从 远程 复制到 本地 的命令 的 后2个参数 调换顺序 即可； 
        

    https://checkapi.aliyun.com/check/checkdomain?domain=dlfasdfndsl.com&token=check-web-hichina-com%3A3tsdmhszgw9a2ces5mdgsvu125yuzphh

    222.209.232.118
    查询ip地址信息:
    http://www.webservicex.net/geoipservice.asmx?op=GetGeoIPContext
    http://www.webservicex.net/geoipservice.asmx?op=GetGeoIP



    vim 操作:
        查找  按esc后  输入 / 然后输入要查找的 关键词 回车

        删除一个文件内的全部内容 方法1: 按ggdG   方法2: :%d


    Java中去空格的方法:
    	1. String.trim()
			trim()是去掉首尾空格
		2.str.replace(" ", ""); 去掉所有空格，包括首尾、中间
			String str = " hell o ";
			String str2 = str.replaceAll(" ", "");
			System.out.println(str2);
		3.或者replaceAll(" +",""); 去掉所有空格
		4.str = .replaceAll("\s*", "");
			可以替换大部分空白字符， 不限于空格 
			s 可以匹配空格、制表符、换页符等空白字符的其中任意一个
		5.或者下面的代码也可以去掉所有空格，包括首尾、中间
			public String remove(String resource,char ch)
			  {
			    StringBuffer buffer=new StringBuffer();
			    int position=0;
			    char currentChar;

			    while(position<resource.length())
			    {
			      currentChar=resource.charAt(position++);
			      if(currentChar!=ch) buffer.append(currentChar); } return buffer.toString();
			  }
	在命令行执行 javac编译java文件出现 "错误: 编码UTF8的不可映射字符"
		解决方法是添加encoding 参数：javac -encoding gbk xxx.java

    Dos命令
        在dos下打开某个目录的文件夹窗口   start 目录路径  例如:start c:\windows
        在D:\盘建一个空的文本文件a.txt:
        copy nul d:\a.txt
        在这个文件中加一句 hi !
        echo hi ! >> d:\a.txt
        也可一次性创建只含一句话的文本文件：
        echo 这是第一句 > d:\b.txt
        然后再逐句添加：
        echo 这是第二句 >> d:\b.txt

    Python
        在python脚本最上面添加这一行   # -*- coding: utf-8 -*- 让脚本文件以 UTF-8 格式保存

    微信定时发送消息:
        var appElement = document.querySelector('[ng-controller=chatSenderController]');
        var $scope = angular.element(appElement).scope();
        var times = 0;
        var send = setInterval(function(){
            times +=1;
            if(times === 20){
            clearInterval(send);
            }
                var localTime = new Date();
                var localTimeString = localTime.toLocaleTimeString();
                $scope.editAreaCtn = "时间快到9:30了，你该回去了！";
                $scope.sendTextMessage();
            },1000);


    QQ:
        //获取所有表情数组
        var arr=document.getElementsByTagName("i");
        //获取每个表情的title
        var count = 0;
        //获取文本框
        var textarea = $('#chat_textarea');
        //获取发送按钮
        var sendbtn = $('#send_chat_btn');
        //var times = 0;
        var send = setInterval(function(){
        //times +=1;
        count ++;
        if(count === 20){
        clearInterval(send);
        }
            var localTime = new Date();
            var localTimeString = localTime.toLocaleTimeString();
            //textarea.value = localTimeString +' ,下班了';
              textarea.value = localTimeString + '['+arr[count].title+']';
            sendbtn.click();
        },1000);

        
centos下如何修改FTP帐号或密码
    centos下lamp的环境安装好后，也许会自动为你创建一个FTP用户， 但是用户名和密码可能你并不喜欢。
    如想修改密码或用户名,先找个ssh工具，阿里云官网建议的是用PuTTY，而我也习惯了它。
    修改FTP密码，连接上服务器后，在终端提示符下输入：passwd ftp（ftp为你要修改密码的帐号）
    会提示输入新密码，并再次确认输入新密码。（如出现 “BAD PASSWORD: it is too simplistic/systematic”这样的提示,请不用紧张,这只是说明你的密码过于简单,但你的密码还是有修改成功的）
    然后你就可以用新密码登录FTP了
    修改FTP帐号，连接上服务器后，在终端提示符下输入：usermod -l mewftp ftp
    newftp是新用户名，ftp是旧用户名。

centos下彻底删除用户
    先使用userdel xiaoluo(用户名) 删除账户和组的信息
    再使用【find / -name "*xiaoluo*"】查找所有于该用户的相关文件，在使用rm -rf 删除